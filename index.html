<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phases of Love – A Romantic Journey</title>
    <link href="styles.css" rel="stylesheet">
    <style>
      
    </style>
  </head>
  <body>
    <div class="container">
      <section id="title">
        <div class="hearts-container">
          <h1>The Phases of Love</h1>
          <div class="heart1">💔</div>
          <div class="heart1">❤️‍🩹</div>
          <div class="heart1">💓</div>
          <div class="heart1">💗</div>
          <div class="heart1">💞</div>
        </div>
      </section>

      <section id="sad">
        <div class="tears-container">
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
          <div class="tear"></div>
        </div>

        <!-- Thunder flash overlay -->
        <div class="thunder"></div>
        <!-- Mood message -->
        <h2>Heartbreak & Loneliness</h2>
        <div class="broken-heart">💔</div>
      </section>

      <section id="neutral">
        <h2>Single & Content</h2>
      </section>
      <section id="crush">
        <h2>Excitement & Butterflies</h2>
        <div class="floating-hearts"></div>
      </section>
      <section id="happy">
        <h2>Deep Connection</h2>
        <div class="beating-heart">❤️</div>
      </section>
      <section id="content">
        <div class="background-heart">💗</div>
        <h2>Peaceful Love</h2>
        <div class="couple">👫</div>
      </section>
    </div>

    <div class="heart-envelope">
      <svg viewBox="0 0 32 29.6">
        <path
          d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
                c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"
          fill="#f493ef"
        />
      </svg>
      <div class="letter-content" id="letter-content"></div>
    </div>

    <div class="sound-control">
      <button class="audio-button" id="play-pause">🎵</button>
      <input type="range" id="volume" min="0" max="1" step="0.1" value="0.5" />
    </div>

    <script>
      // Progress indicator
      const sections = document.querySelectorAll("section");

      const container = document.querySelector(".container");

      // Floating hearts
      const floatingHeartsContainer =
        document.querySelector(".floating-hearts");
      setInterval(() => {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.innerHTML = "❤️";
        heart.style.left = `${Math.random() * 100}%`;
        heart.style.animationDuration = `${Math.random() * 2 + 3}s`;
        floatingHeartsContainer.appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
      }, 300);

      // Audio setup
      const audioElements = {
        title: new Audio("audio/title.mp3"),
        sad: new Audio("audio/sad-song.mp3"),
        neutral: new Audio("audio/2.mp3"),
        crush: new Audio("audio/3.mp3"),
        happy: new Audio("audio/4.mp3"),
        content: new Audio("audio/5.mp3"),
      };

      let currentAudio = null;

      const playPauseBtn = document.getElementById("play-pause");
      const volumeSlider = document.getElementById("volume");

      playPauseBtn.addEventListener("click", () => {
        if (currentAudio) {
          if (currentAudio.paused) {
            currentAudio.play();
          } else {
            currentAudio.pause();
          }
        }
      });

      volumeSlider.addEventListener("input", (e) => {
        const volume = parseFloat(e.target.value);
        Object.values(audioElements).forEach((audio) => {
          audio.volume = volume;
        });
      });

      const heartEnvelope = document.querySelector(".heart-envelope");

      // Intersection Observer to detect when "title" section is visible

      // Observe the "title" section

      // Intersection Observer for section visibility
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
              }
              if (entry.target.id === "title") {
                heartEnvelope.style.display = "none"; // Hide heart envelope
              } else {
                heartEnvelope.style.display = "block"; // Show heart envelope
              }
            }
            currentAudio = audioElements[entry.target.id];
            currentAudio.play();
            updateLetterContent(entry.target.id);
          });
        },
        { threshold: 0.5 }
      );

      sections.forEach((section) => observer.observe(section));

      const titleSection = document.getElementById("title");
      if (titleSection) {
        observer.observe(titleSection);
      }

      // Letter content
      const letterContent = {
        sad: "In the depths of sorrow, remember that healing takes time. Your heart will mend.",
        neutral:
          "Embrace this moment of solitude. It's a time for self-discovery and growth.",
        crush:
          "The flutter of new beginnings! Cherish these moments of excitement and possibility.",
        happy:
          "True love has found you. Nurture it, cherish it, and let it bloom.",
        content:
          "In the warmth of lasting love, find peace and joy in each shared moment.",
      };

      function updateLetterContent(sectionId) {
        const letterElement = document.getElementById("letter-content");
        letterElement.textContent = letterContent[sectionId];
      }

      // Easter egg
      const easterEgg = document.createElement("div");
      easterEgg.textContent = "💝";
      easterEgg.style.position = "fixed";
      easterEgg.style.bottom = "20px";
      easterEgg.style.right = "20px";
      easterEgg.style.fontSize = "2rem";
      easterEgg.style.cursor = "pointer";
      easterEgg.style.opacity = "0";
      easterEgg.style.transition = "opacity 0.3s ease";
      document.body.appendChild(easterEgg);

      let easterEggVisible = false;
      document.addEventListener("mousemove", (e) => {
        if (
          e.clientX > window.innerWidth - 50 &&
          e.clientY > window.innerHeight - 50
        ) {
          if (!easterEggVisible) {
            easterEgg.style.opacity = "1";
            easterEggVisible = true;
          }
        } else {
          if (easterEggVisible) {
            easterEgg.style.opacity = "0";
            easterEggVisible = false;
          }
        }
      });

      easterEgg.addEventListener("click", () => {
        alert(
          "You've successfully found the hidden treasure of love! ❤️💖💗💓💞🩷❣️"
        );
      });
    </script>
  </body>
</html>
